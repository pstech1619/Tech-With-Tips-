<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>WhatsApp Earning Apps 2025 | Earn Money from WhatsApp ‚Äì TechWithTips</title>

<meta name="description" content="TechWithTips provides trusted WhatsApp earning apps. Learn how to earn money from WhatsApp safely.">
<meta name="keywords" content="WhatsApp earning, WhatsApp earning apps, earn money from WhatsApp">
<meta name="robots" content="index, follow">

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Poppins:wght@600;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"/>

<style>
:root{
  --primary:#6366f1;
  --secondary:#22d3ee;
  --accent:#f43f5e;
  --glass:rgba(255,255,255,.12);
  --glass-border:rgba(255,255,255,.35);
  --text:#0f172a;
}
body.dark{
  --glass:rgba(15,23,42,.7);
  --glass-border:rgba(148,163,184,.35);
  --text:#e5e7eb;
}
*{margin:0;padding:0;box-sizing:border-box}

/* üî• Animated gradient background */
body{
  font-family:Inter,sans-serif;
  color:var(--text);
  padding-bottom:80px;
  background:
    radial-gradient(circle at 0% 0%,rgba(244,63,94,.35),transparent 55%),
    radial-gradient(circle at 100% 0%,rgba(34,211,238,.32),transparent 55%),
    radial-gradient(circle at 0% 100%,rgba(96,165,250,.28),transparent 55%),
    linear-gradient(-45deg,#020617,#0f172a,#020617,#020617);
  background-size:200% 200%;
  animation:bgMove 20s ease-in-out infinite;
}
@keyframes bgMove{
  0%{background-position:0% 50%}
  50%{background-position:100% 50%}
  100%{background-position:0% 50%}
}
body.dark{
  background:
    radial-gradient(circle at 10% 0%,rgba(59,130,246,.35),transparent 55%),
    radial-gradient(circle at 90% 100%,rgba(16,185,129,.32),transparent 55%),
    linear-gradient(135deg,#020617,#020617,#020617);
}

/* Small floating glow dots */
body::before{
  content:"";
  position:fixed;
  inset:0;
  background:
    radial-gradient(circle at 15% 20%,rgba(255,255,255,.12),transparent 55%),
    radial-gradient(circle at 80% 70%,rgba(255,255,255,.08),transparent 55%);
  pointer-events:none;
  mix-blend-mode:screen;
}

/* Container */
.container{max-width:1200px;margin:auto;padding:0 16px}

/* HEADER */
.header{
  position:sticky;top:0;
  background:linear-gradient(to bottom,rgba(15,23,42,.7),rgba(15,23,42,.4));
  backdrop-filter:blur(18px);
  -webkit-backdrop-filter:blur(18px);
  z-index:100;
  box-shadow:0 18px 45px rgba(15,23,42,.65);
  border-bottom:1px solid rgba(148,163,184,.4);
}
.nav{
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:14px 0;
  position:relative;
}
.logo{
  font-family:Poppins;
  font-size:22px;
  font-weight:700;
  display:flex;
  gap:10px;
  align-items:center;
  letter-spacing:.02em;
  color:#e5e7eb;
}
.logo span{
  width:40px;
  height:40px;
  border-radius:14px;
  background:conic-gradient(from 180deg at 50% 50%,#6366f1,#22d3ee,#f97316,#f43f5e,#6366f1);
  color:#fff;
  display:flex;
  align-items:center;
  justify-content:center;
  box-shadow:0 10px 25px rgba(15,23,42,.8);
}

/* MAIN BUTTON */
.btn{
  position:relative;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap:6px;
  background:linear-gradient(135deg,#6366f1,#22d3ee);
  color:#fff;
  padding:10px 24px;
  border-radius:999px;
  text-decoration:none;
  font-weight:600;
  font-size:14px;
  border:0;
  cursor:pointer;
  box-shadow:0 14px 32px rgba(79,70,229,.55);
  transition:transform .18s ease,box-shadow .18s ease,background .2s ease,filter .2s ease;
}
.btn::before{
  content:"";
  position:absolute;
  inset:-2px;
  border-radius:999px;
  background:radial-gradient(circle at 0 0,rgba(255,255,255,.8),transparent 55%);
  opacity:.4;
  mix-blend-mode:screen;
  pointer-events:none;
}
.btn::after{
  content:"";
  position:absolute;
  inset:0;
  border-radius:999px;
  border:1px solid rgba(255,255,255,.55);
  opacity:.65;
}
.btn:hover{
  transform:translateY(-1px) scale(1.03);
  box-shadow:0 20px 45px rgba(79,70,229,.7);
  filter:saturate(1.1);
}
.btn:active{
  transform:translateY(1px) scale(.97);
  box-shadow:0 10px 22px rgba(79,70,229,.5);
}

.toggle{
  background:rgba(15,23,42,.6);
  color:#e5e7eb;
  border:1px solid rgba(148,163,184,.5);
  width:42px;
  height:42px;
  border-radius:50%;
  cursor:pointer;
  font-size:18px;
  box-shadow:0 8px 20px rgba(15,23,42,.7);
}

/* HEADER MENU */
.header-menu{
  position:absolute;
  top:70px;
  right:16px;
  background:var(--glass);
  backdrop-filter:blur(18px);
  -webkit-backdrop-filter:blur(18px);
  border-radius:22px;
  box-shadow:0 24px 60px rgba(15,23,42,.85);
  border:1px solid var(--glass-border);
  padding:12px;
  display:none;
  flex-direction:column;
  min-width:190px;
  z-index:9999;
}
.header-menu a{
  text-decoration:none;
  padding:10px 14px;
  border-radius:14px;
  font-weight:600;
  color:#e5e7eb;
  display:flex;
  align-items:center;
  gap:8px;
  font-size:14px;
}
.header-menu a:hover{
  background:rgba(148,163,184,.22);
}

/* HERO */
.hero{
  position:relative;
  height:260px;
  overflow:hidden;
  border-radius:0 0 26px 26px;
}
.hero-slider img{
  position:absolute;
  inset:0;
  width:100%;
  height:100%;
  object-fit:cover;
  opacity:0;
  animation:slide 15s infinite;
}
.hero-slider img:nth-child(1){animation-delay:1s}
.hero-slider img:nth-child(2){animation-delay:6s}
.hero-slider img:nth-child(3){animation-delay:11s}

@keyframes slide{
  0%{opacity:0}
  10%{opacity:1}
  30%{opacity:1}
  40%{opacity:0}
  100%{opacity:0}
}

.hero-overlay{
  position:absolute;
  inset:0;
  background:linear-gradient(to bottom,rgba(15,23,42,.25),rgba(15,23,42,.85));
}

/* SEARCH */
.search{
  margin:-30px auto 40px;
  max-width:600px;
  position:relative;
  z-index:10;
}
.search input{
  width:100%;
  padding:14px 16px;
  border-radius:16px;
  border:1px solid rgba(148,163,184,.7);
  background:rgba(15,23,42,.7);
  color:#e5e7eb;
  box-shadow:0 10px 26px rgba(15,23,42,.8);
}

/* APPS */
.apps{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(280px,1fr));
  gap:22px;
  margin-bottom:20px;
}
.app-card{
  background:var(--glass);
  backdrop-filter:blur(16px);
  -webkit-backdrop-filter:blur(16px);
  border:1px solid var(--glass-border);
  border-radius:22px;
  padding:16px;
  transition:transform .25s ease,box-shadow .25s ease,border-color .25s ease;
  box-shadow:0 20px 45px rgba(15,23,42,.85);
  position:relative;
  overflow:hidden;
}
.app-card::before{
  content:"";
  position:absolute;
  width:120px;
  height:120px;
  border-radius:50%;
  background:radial-gradient(circle,rgba(59,130,246,.45),transparent 60%);
  top:-60px;
  right:-40px;
  opacity:.45;
  pointer-events:none;
}
.app-card:hover{
  transform:translateY(-6px);
  box-shadow:0 28px 60px rgba(15,23,42,.95);
  border-color:rgba(129,140,248,.9);
}
.app-head{
  display:flex;
  gap:14px;
  align-items:center;
}
.app-icon{
  width:60px;
  height:60px;
  border-radius:20px;
  background:radial-gradient(circle at 20% 15%,#fef3c7,#facc15);
  display:flex;
  align-items:center;
  justify-content:center;
  overflow:hidden;
  color:#fff;
  font-size:24px;
  box-shadow:0 14px 30px rgba(15,23,42,.9);
}
.app-icon img{
  width:100%;
  height:100%;
  object-fit:cover;
  border-radius:20px;
}
.app-head h3{
  font-size:16px;
  font-weight:700;
  color:#e5e7eb;
}
.app-head p{
  font-size:13px;
  color:#9ca3af;
}
.rank{
  margin-left:auto;
  background:linear-gradient(135deg,#f97316,#fb7185);
  color:#fff;
  padding:4px 10px;
  border-radius:14px;
  font-size:13px;
  font-weight:700;
  box-shadow:0 8px 20px rgba(15,23,42,.9);
}

/* LIKE BUTTON */
.app-like-row{
  display:flex;
  align-items:center;
  justify-content:space-between;
  margin-top:14px;
}
.app-like-wrap{
  display:flex;
  align-items:center;
  gap:8px;
}
.app-like-btn{
  width:40px;
  height:40px;
  border-radius:999px;
  border:none;
  background:radial-gradient(circle at 30% 30%,#fecaca,#f97373);
  color:#fff;
  font-size:18px;
  cursor:pointer;
  box-shadow:0 10px 22px rgba(248,113,113,.55);
  display:flex;
  align-items:center;
  justify-content:center;
  transition:transform .18s ease,box-shadow .18s ease,background .2s ease;
}
.app-like-btn.liked{
  background:radial-gradient(circle at 30% 30%,#bbf7d0,#22c55e);
  box-shadow:0 10px 24px rgba(34,197,94,.6);
  transform:scale(1.05);
}
.app-like-btn:hover{
  transform:translateY(-1px) scale(1.05);
}
.app-like-btn:active{
  transform:translateY(1px) scale(.96);
}
.app-like-count{
  font-weight:600;
  color:#fecaca;
  font-size:15px;
}

/* COMMON SECTIONS */
.section-box{
  background:var(--glass);
  backdrop-filter:blur(16px);
  -webkit-backdrop-filter:blur(16px);
  border:1px solid var(--glass-border);
  border-radius:22px;
  padding:18px;
  margin:20px 0;
  box-shadow:0 20px 45px rgba(15,23,42,.9);
}

/* BLOG CARDS */
.blog-list{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(280px,1fr));
  gap:20px;
  margin-top:16px;
}
.blog-card{
  background:var(--glass);
  backdrop-filter:blur(14px);
  border:1px solid var(--glass-border);
  border-radius:20px;
  padding:16px;
  transition:transform .25s ease,box-shadow .25s ease,border-color .25s ease;
  height:100%;
  display:flex;
  flex-direction:column;
  cursor:pointer;
  overflow:hidden;
  box-shadow:0 18px 40px rgba(15,23,42,.9);
}
.blog-card:hover{
  transform:translateY(-4px);
  box-shadow:0 26px 55px rgba(15,23,42,1);
  border-color:rgba(129,140,248,.85);
}
.blog-thumb{
  width:100%;
  height:140px;
  border-radius:16px;
  object-fit:cover;
  margin-bottom:12px;
  display:block;
}
.blog-badge{
  display:inline-block;
  padding:4px 12px;
  border-radius:999px;
  font-size:12px;
  background:#e0f2fe33;
  color:#bae6fd;
  font-weight:600;
  margin-bottom:6px;
}
.blog-featured{
  background:#facc1533;
  color:#fde68a;
}
.blog-date{
  font-size:12px;
  color:#9ca3af;
  margin-bottom:8px;
}
.blog-title{
  font-size:16px;
  font-weight:700;
  line-height:1.4;
  margin-bottom:8px;
  color:#e5e7eb;
}
.blog-content-short{
  font-size:13px;
  color:#d1d5db;
  line-height:1.5;
  margin-bottom:10px;
}
.blog-content-full{
  font-size:14px;
  line-height:1.6;
  color:#e5e7eb;
  margin-top:4px;
  display:none;
}
.read-more-btn{
  margin-top:8px;
  padding:8px 16px;
  background:linear-gradient(135deg,#6366f1,#22d3ee);
  color:white;
  border:none;
  border-radius:999px;
  font-size:12px;
  font-weight:600;
  cursor:pointer;
  transition:.2s;
  align-self:flex-start;
  display:inline-flex;
  align-items:center;
  justify-content:center;
}
.read-more-btn:hover{
  transform:translateY(-1px);
  box-shadow:0 8px 20px rgba(79,70,229,.7);
}
.read-more-btn.expanded{
  background:linear-gradient(135deg,#10b981,#059669);
}

/* FOOTER */
.footer{
  background:rgba(15,23,42,.9);
  border-top:1px solid rgba(148,163,184,.5);
  padding:14px;
  text-align:center;
  font-size:13px;
  color:#9ca3af;
  margin-top:10px;
}

/* BOTTOM NAV */
.bottom-bar{
  position:fixed;
  bottom:0;
  left:0;
  right:0;
  background:rgba(15,23,42,.96);
  border-top:1px solid rgba(148,163,184,.6);
  display:flex;
  padding:8px;
  z-index:1000;
  box-shadow:0 -14px 35px rgba(15,23,42,1);
}
.bottom-bar a{
  flex:1;
  margin:0 4px;
  padding:8px 10px;
  border-radius:999px;
  text-align:center;
  font-weight:600;
  color:#e5e7eb;
  text-decoration:none;
  font-size:12px;
  display:flex;
  flex-direction:column;
  gap:2px;
  align-items:center;
  justify-content:center;
  transition:transform .18s ease,box-shadow .18s ease,background .2s ease;
  box-shadow:0 6px 18px rgba(15,23,42,.9);
}
.nav-home{background:linear-gradient(135deg,#4f46e5,#6366f1);}
.nav-blog{background:linear-gradient(135deg,#16a34a,#22c55e);}
.nav-policy{background:linear-gradient(135deg,#f97316,#fb923c);}
.nav-contact{background:linear-gradient(135deg,#0284c7,#0ea5e9);}
.bottom-bar a.active-tab{
  box-shadow:0 0 0 2px rgba(248,250,252,.9),0 10px 26px rgba(15,23,42,1);
  transform:translateY(-2px) scale(1.03);
}
.bottom-bar a i{
  font-size:16px;
}

/* TABS */
.tab-section{display:none;}

/* POPUP */
.popup-backdrop{
  position:fixed;
  inset:0;
  background:rgba(15,23,42,0.7);
  display:flex;
  align-items:center;
  justify-content:center;
  z-index:2000;
}
.popup-card{
  background:var(--glass);
  backdrop-filter:blur(18px);
  border-radius:22px;
  padding:20px 18px;
  width:90%;
  max-width:360px;
  box-shadow:0 24px 60px rgba(15,23,42,1);
  text-align:center;
  border:1px solid var(--glass-border);
}
.popup-card h3{
  font-size:18px;
  font-weight:700;
  margin-bottom:10px;
  color:#e5e7eb;
}
.popup-card p{
  font-size:14px;
  color:#d1d5db;
  margin-bottom:18px;
}
.popup-actions{
  display:flex;
  gap:10px;
}
.popup-btn{
  flex:1;
  padding:10px 0;
  border-radius:999px;
  border:none;
  font-size:14px;
  font-weight:600;
  cursor:pointer;
}
.popup-yes{
  background:#22c55e;
  color:#fff;
}
.popup-no{
  background:#0ea5e9;
  color:#fff;
}
</style>
</head>

<body>

<header class="header">
  <div class="container nav">
    <div class="logo"><span>T</span>TechWithTips</div>

    <div style="display:flex;gap:10px;align-items:center">
      <button class="toggle" id="themeToggle">üåô</button>
      <button class="toggle" id="menuToggle">‚ò∞</button>
      <a class="btn" target="_blank" href="https://whatsapp.com/channel/0029VbAUFDY47XeFGrOpa52n">
        <i class="fa-brands fa-whatsapp"></i>
        Join
      </a>
    </div>

    <div id="headerMenu" class="header-menu">
      <a href="#home" data-target="home" class="menu-link">üè† Home</a>
      <a href="#blogs" data-target="blogs" class="menu-link">üìù Blog</a>
      <a href="#policy" data-target="policy" class="menu-link">üîí Policy</a>
      <a href="#contact" data-target="contact" class="menu-link">üìû Contact</a>
    </div>
  </div>
</header>

<!-- TELEGRAM POPUP -->
<div id="telegramPopup" class="popup-backdrop" style="display:none;">
  <div class="popup-card">
    <h3>Telegram join kiya?</h3>
    <p>Latest WhatsApp earning tips aur secret apps ke liye hamara Telegram group join karo.</p>
    <div class="popup-actions">
      <button id="popupYes" class="popup-btn popup-yes">Yes</button>
      <button id="popupNo" class="popup-btn popup-no">No</button>
    </div>
  </div>
</div>

<!-- HOME -->
<section id="home" class="tab-section">
  <div class="hero">
    <div class="hero-slider">
      <img src="PK.jpeg" alt="Slide 1">
      <img src="PKS.jpeg" alt="Slide 2">
      <img src="PKS1.jpeg" alt="Slide 3">
    </div>
    <div class="hero-overlay"></div>
  </div>

  <div class="container">
    <div class="search">
      <input placeholder="Search WhatsApp earning apps..." id="searchInput">
    </div>
    <div class="apps" id="apps"></div>
  </div>
</section>

<!-- BLOG TAB -->
<section class="container tab-section" id="blogs">
  <div class="section-box">
    <h3 style="color:#e5e7eb;">Latest Blogs</h3>
    <div id="blogsList" class="blog-list"></div>
  </div>
</section>

<!-- POLICY -->
<section class="container tab-section" id="policy">
  <div class="section-box">
    <h3 style="color:#e5e7eb;">Privacy & Policy</h3>
    <p style="color:#d1d5db;">Hum personal data store nahi karte. Saare third‚Äëparty apps ki apni alag privacy policy hoti hai.</p>
  </div>
</section>

<!-- CONTACT -->
<section class="container tab-section" id="contact">
  <div class="section-box">
    <h3 style="color:#e5e7eb;">Contact Us</h3>
    <p style="color:#d1d5db;">Support ke liye WhatsApp channel ya Telegram group par message karo.</p>

    <div style="display:flex;gap:14px;flex-wrap:wrap;margin-top:14px;">
      <a href="https://whatsapp.com/channel/0029VbAUFDY47XeFGrOpa52n"
         target="_blank"
         class="btn"
         style="flex:1;min-width:140px;justify-content:flex-start;">
        <span style="width:32px;height:32px;border-radius:50%;background:#fff;
                     display:flex;align-items:center;justify-content:center;margin-right:8px;">
          <i class="fab fa-whatsapp" style="color:#25D366;font-size:18px;"></i>
        </span>
        <span>WhatsApp Channel</span>
      </a>

      <a href="https://t.me/techwithtips0"
         target="_blank"
         class="btn"
         style="flex:1;min-width:140px;justify-content:flex-start;background:linear-gradient(135deg,#0284c7,#0ea5e9);">
        <span style="width:32px;height:32px;border-radius:50%;background:#fff;
                     display:flex;align-items:center;justify-content:center;margin-right:8px;">
          <i class="fab fa-telegram-plane" style="color:#229ED9;font-size:18px;"></i>
        </span>
        <span>Telegram Group</span>
      </a>
    </div>
  </div>
</section>

<footer class="footer">
  ¬© 2025 <strong>TechWithTips</strong>. All Rights Reserved.
</footer>

<!-- BOTTOM NAV -->
<div class="bottom-bar">
  <a href="#home"    class="nav-home tab-link active-tab" data-target="home">
    <i class="fa-solid fa-house"></i><span>Home</span>
  </a>
  <a href="#blogs"   class="nav-blog tab-link" data-target="blogs">
    <i class="fa-solid fa-blog"></i><span>Blog</span>
  </a>
  <a href="#policy"  class="nav-policy tab-link" data-target="policy">
    <i class="fa-solid fa-shield-halved"></i><span>Policy</span>
  </a>
  <a href="#contact" class="nav-contact tab-link" data-target="contact">
    <i class="fa-solid fa-phone"></i><span>Contact</span>
  </a>
</div>

<!-- THEME -->
<script>
const toggle=document.getElementById("themeToggle");
toggle.onclick=()=>{
  document.body.classList.toggle("dark");
  toggle.innerText=document.body.classList.contains("dark")?"‚òÄÔ∏è":"üåô";
};
</script>

<!-- MENU -->
<script>
const menuBtn=document.getElementById("menuToggle");
const menuBox=document.getElementById("headerMenu");

menuBtn.onclick=()=>{
  menuBox.style.display=menuBox.style.display==="flex"?"none":"flex";
};

document.addEventListener("click",(e)=>{
  if(!menuBtn.contains(e.target)&&!menuBox.contains(e.target)){
    menuBox.style.display="none";
  }
});
</script>

<!-- TAB LOGIC -->
<script>
function showTab(id){
  document.querySelectorAll('.tab-section').forEach(sec=>{
    sec.style.display='none';
  });
  const active=document.getElementById(id);
  if(active) active.style.display='block';

  document.querySelectorAll('.tab-link').forEach(l=>l.classList.remove('active-tab'));
  document.querySelectorAll('.tab-link[data-target="'+id+'"]').forEach(l=>{
    l.classList.add('active-tab');
  });

  window.scrollTo({top:0,behavior:'smooth'});
}
showTab('home');

document.querySelectorAll('.tab-link').forEach(link=>{
  link.addEventListener('click',e=>{
    e.preventDefault();
    const id=link.getAttribute('data-target');
    showTab(id);
  });
});
document.querySelectorAll('.menu-link').forEach(link=>{
  link.addEventListener('click',e=>{
    e.preventDefault();
    const id=link.getAttribute('data-target');
    showTab(id);
    menuBox.style.display='none';
  });
});
</script>

<!-- FIREBASE: APPS + BLOGS + REAL LIKE (UI same) -->
<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-app.js";
import { 
  getDatabase, 
  ref, 
  onValue,
  runTransaction
} from "https://www.gstatic.com/firebasejs/12.6.0/firebase-database.js";  /* [web:17][web:42] */

const firebaseConfig={
  apiKey:"AIzaSyBwC35sh20ttnUeNsMOi8ghzsab-Db_6c4",
  databaseURL:"https://pawan-9dd64-default-rtdb.asia-southeast1.firebasedatabase.app"
};

const app=initializeApp(firebaseConfig);
const db=getDatabase(app);

const appsContainer=document.getElementById("apps");
const searchInput=document.getElementById("searchInput");
const blogsList=document.getElementById("blogsList");

const LIKED_FLAG_PREFIX = "twt_app_liked_";

let allApps = [];
let allBlogs = [];

/* APPS */
onValue(ref(db,"apps"), (snapshot) => {
  const data = snapshot.val();
  allApps = data ? Object.entries(data).map(([id, app]) => ({ id, ...app })) : [];

  allApps.sort(
    (a, b) => new Date(b.timestamp || 0) - new Date(a.timestamp || 0)
  );

  displayApps(allApps);
});

function displayApps(apps) {
  appsContainer.innerHTML = apps.map((app, index) => {
    const flagKey  = LIKED_FLAG_PREFIX + app.id;
    const alreadyLiked = localStorage.getItem(flagKey) === "1";
    const likeCount = typeof app.likes === "number" ? app.likes : 0;

    return `
<div class="app-card" data-app-id="${app.id}">
  <div class="app-head">
    <div class="app-icon">
      ${app.logo ? `<img src="${app.logo}" alt="${app.name}">` : "üì±"}
    </div>
    <div>
      <h3>${app.name}</h3>
      <p>${app.subtitle || "Best WhatsApp earning app"}</p>
    </div>
    <div class="rank">#${index + 1}</div>
  </div>
  <div class="app-like-row">
    <a class="btn" href="${app.url}" target="_blank">
      <i class="fa-solid fa-download"></i>
      Download
    </a>
    <div class="app-like-wrap">
      <button class="app-like-btn ${alreadyLiked ? 'liked' : ''}" data-like-btn="${app.id}">
        ${alreadyLiked ? "üíñ" : "‚ù§Ô∏è"}
      </button>
      <span class="app-like-count" data-like-count="${app.id}">${likeCount}</span>
    </div>
  </div>
</div>`;
  }).join("");
  attachLikeEvents();
}

function attachLikeEvents() {
  document.querySelectorAll("[data-like-btn]").forEach(btn => {
    const id = btn.getAttribute("data-like-btn");
    const countEl = document.querySelector(`[data-like-count="${id}"]`);
    const flagKey = LIKED_FLAG_PREFIX + id;

    let alreadyLiked = localStorage.getItem(flagKey) === "1";

    btn.addEventListener("click", async () => {
      if (alreadyLiked) return;

      alreadyLiked = true;
      localStorage.setItem(flagKey, "1");
      btn.classList.add('liked');
      btn.innerHTML = "üíñ";

      const likeRef = ref(db, "apps/" + id + "/likes");

      await runTransaction(likeRef, (current) => {
        if (current === null || current === undefined) return 1;
        return current + 1;
      });

      const currentLikes = parseInt(countEl.textContent || "0", 10);
      countEl.textContent = currentLikes + 1;
    });
  });
}

if(searchInput){
  searchInput.addEventListener("input", (e) => {
    const query = e.target.value.toLowerCase();
    const filteredApps = allApps.filter(app => 
      app.name.toLowerCase().includes(query) || 
      (app.subtitle || "").toLowerCase().includes(query)
    );
    displayApps(filteredApps);
  });
}

/* BLOGS */
onValue(ref(db,"blogs"), (snapshot) => {
  const data = snapshot.val();
  allBlogs = data ? Object.entries(data).map(([id, blog]) => ({ id, ...blog })) : [];
  allBlogs.sort((a,b)=> new Date(b.date || 0) - new Date(a.date || 0)).reverse();
  renderBlogs();
});

function renderBlogs(){
  if(!blogsList) return;
  if(allBlogs.length===0){
    blogsList.innerHTML = "<p style='font-size:14px;color:#9ca3af;text-align:center;padding:40px;'>Abhi koi blog add nahi hua. Admin panel se blog publish karte hi yahan dikh jayega.</p>";
    return;
  }

  blogsList.innerHTML = allBlogs.map((b, index)=>{
    const short = (b.content || "").slice(0,100) + ((b.content||"").length>100 ? "..." : "");
    const fullContent = b.content || "No content available";
    const date = b.date ? new Date(b.date).toLocaleDateString('hi-IN') : "Just now";
    const category = b.category || "General";
    const featured = b.featured ? " blog-featured" : "";
    const featuredText = b.featured ? "‚≠ê Featured" : category;

    return `
<div class="blog-card" data-blog-id="${index}">
  ${b.image ? `<img src="${b.image}" alt="${b.title}" class="blog-thumb" onerror="this.style.display='none'">` : ""}
  <span class="blog-badge${featured}">${featuredText}</span>
  <span class="blog-date">${date}</span>
  <div class="blog-title">${b.title}</div>
  <div class="blog-content-short">${short}</div>
  <div class="blog-content-full">${fullContent}</div>
  <button class="read-more-btn" data-blog="${index}">üìñ Read More</button>
</div>`;
  }).join("");

  attachReadMoreEvents();
}

function attachReadMoreEvents() {
  document.querySelectorAll('.read-more-btn').forEach(btn => {
    btn.onclick = function(e) {
      e.stopPropagation();
      const card = this.closest('.blog-card');
      const shortContent = card.querySelector('.blog-content-short');
      const fullContent = card.querySelector('.blog-content-full');

      if(fullContent.style.display === 'none' || fullContent.style.display === ''){
        shortContent.style.display = 'none';
        fullContent.style.display = 'block';
        this.textContent = 'üìñ Read Less';
        this.classList.add('expanded');
      } else {
        shortContent.style.display = 'block';
        fullContent.style.display = 'none';
        this.textContent = 'üìñ Read More';
        this.classList.remove('expanded');
      }
    };
  });
}
</script>

<!-- TELEGRAM POPUP LOGIC -->
<script>
const popup = document.getElementById('telegramPopup');
const popupYes = document.getElementById('popupYes');
const popupNo = document.getElementById('popupNo');
const TELEGRAM_URL = 'https://t.me/techwithtips0';
const POPUP_KEY = 'twt_telegram_popup_shown';

window.addEventListener('load', () => {
  if(localStorage.getItem(POPUP_KEY) === '1') return;
  popup.style.display = 'flex';
});

popupYes.addEventListener('click', () => {
  popup.style.display = 'none';
  localStorage.setItem(POPUP_KEY, '1');
});

popupNo.addEventListener('click', () => {
  localStorage.setItem(POPUP_KEY, '1');
  popup.style.display = 'none';
  window.open(TELEGRAM_URL, '_blank');
});
</script>

</body>
</html>

